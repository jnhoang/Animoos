<!-- LOADING BAR -->
<div class="progress loadingBar"
  ng-if="loading">
  <div class="indeterminate"></div>
</div>

<!-- TOP 5 SLIDER -->
<div id="home-slider" class="slider" slider
  ng-if="!loading" indicators="false" height="475">
  <ul class="slides">
    <li ng-repeat="show in top5">
      <img ng-src="{{ show.image_url_banner }}">
      <div class="cover-slider"></div>
      <div class="caption left-align">
        
        <h3 class="caption-text slider-title">{{ show.title_english }}</h3>
        <h5 class="caption-text">
          {{ show.average_score }}%
        </h5>
        <h5>
          <span ng-repeat="genre in show.genres">
            {{ genre }} 
          </span>
        </h5>
        <p>
          <a ng-href="/anime/{{ show.id }}"
            class="waves-effect waves-light slider-btn btn">Learn More</a>
        </p>

      </div>
    </li>
  </ul>
</div>

<!-- LOADING BAR -->
<div class="progress loadingBar"
  ng-class="{'invisible': !loadingBar}">
  <div class="indeterminate"></div>
</div>

<!-- MAIN PAGE FILTERS -->
<div class="row filter-bar advance-filter"
  ng-if="!loading">
  <div>
    <!-- YEAR -->
    <div class="col s5 m3 l2">
      <div input-field>
        <input type="text"
          ng-maxlength="4"
          ng-model="filterObj.year"
          placeholder="Year: e.g '2000'">
      </div>
    </div>

    <!-- SEASON -->
    <div class="col s5 m3 l2">
      <div class="filter-text" input-field>
        <select class="filter-text"
          ng-model="filterObj.season"
          material-select>
          <option value="" selected>Season</option>
          <option value="spring">Spring</option>
          <option value="summer">Summer</option>
          <option value="autumn">Autumn</option>
          <option value="winter">Winter</option>
        </select>
      </div>
    </div>

    <!-- SORT -->
    <div class="col s5 m3 l2">
      <div input-field>
        <select class="" 
          ng-model="filterObj.sort"
          material-select>
          <option value="" selected>Sort by</option>
          <option value="id">Id</option>
          <option value="score-desc">Score (Higest)</option>
          <option value="score">Score (Lowest)</option>
          <option value="popularity-desc">Popularity (Highest)</option>
          <option value="popularity">Popularity (Lowest)</option>
          <option value="start_date">Start Date</option>
          <option value="end_date">End Date</option>
        </select>
      </div>
    </div>

    <!-- TYPE -->
    <div class="col s5 m3 l2">
      <div input-field>
        <select class="" 
          ng-model="filterObj.type"
          material-select>
          <option value="" selected>Type</option>
          <option value="tv">TV</option>
          <option value="tv short">TV Short</option>
          <option value="movie">Movie</option>
          <option value="special">Special</option>
          <option value="ova">OVA</option>
        </select>
      </div>
    </div>

    <!-- STATUS -->
    <div class="col s5 m3 l2">
      <div input-field>
        <select class="" 
          ng-model="filterObj.status"
          material-select>
          <option value="" selected>Status</option>
          <option value="finished airing">Finished Airing</option>
          <option value="currently airing">Currently Airing</option>
          <option value="not yet aired">Not Yet Aired</option>
          <option value="cancelled">Cancelled</option>
        </select>
      </div>
    </div>
    
    <!-- GENRES -->
    <!-- <div class="col s5 m3 l2">
      <div class="input-field">
        <select class="" 
          ng-model="filterObj.genres"
          material-select multiple watch>
          <option ng-repeat="genre in genres">
            {{genre}}
          </option>
        </select>
      </div>
    </div> -->
    
  </div>
</div>

<!-- PAGE RESULTS -->
<div ng-if="!loading"
  class="card-panel results-panel">
  <div class="row">
    <div ng-repeat="animeObj in showArr track by $index">
      <div class="col s12 m4 l3 xl2">
        <a ng-href="/anime/{{ animeObj.id }}">
          <div class="card z-depth-3 home-title-card" style="background-image: url({{animeObj.image_url_lge}}); background-size: cover; ">
              <h5 class="cover-title">
                {{ animeObj.title_english }}
              </h5>
            <h5 class="center activator more-info-indicator">
              <i class="fa fa-chevron-up" aria-hidden="true"></i>
            </h5>

            <div class="cover-info"></div>
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4"><i class="fa fa-times right" aria-hidden="true"></i></span>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>

<div 
  ng-include="'app/views/partials/footer.html'"
  ng-if="!loading"></div>
